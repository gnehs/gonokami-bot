<div align="center">
  <img src="assets/avater.png" width="200" style="border-radius: 32px;" />
</div>

# ğŸ‘‘ æ¦®å‹¾æ–¯æªæ‹‰éºµç²¾éˆ

å“¼å—¯ï¼Œé€™æ˜¯å¶ï¼Œåœ‹ç‹ç†Šç†Šæ¦®å‹¾æ–¯æªçš„ Telegram Botã€‚æ€•çš„æ˜¯ä»–ã€‚

é€™å€‹ Bot å¾ˆã„…ã„§ã„¤ Ë‹ï¼Œå¯ä»¥å¹«ä½ åšå¾ˆå¤šäº‹ï¼Œä¸åƒé‚£äº› LKK çš„ Botï¼Œå¾ˆéœã€‚

## âœ¨ Kira Kira çš„åŠŸèƒ½

- **/number [è™Ÿç¢¼]**: æŸ¥è©¢äº”ä¹‹ç¥æ‹‰éºµçš„ç›®å‰å«è™Ÿï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥è¨‚é–±ï¼Œå¶æœƒå¹«ä½ ç›¯è‘—ï¼Œå«åˆ°å†è·Ÿä½ èªªã€‚å¾ˆ Hito å§ã€‚
- **/vote [ä¸»é¡Œ]**: è‚šå­é¤“äº†ï¼Ÿç”¨é€™å€‹æŒ‡ä»¤ä¾†æªåœ˜æŠ•ç¥¨ï¼Œçœ‹å¤§å®¶è¦ã„˜ä»€éº¼ã€‚
- **/voteramen [ä¸»é¡Œ]**: é™å®šæ‹‰éºµé»é¤å°ˆç”¨ï¼Œç›´æ¥çµ±è¨ˆå¥½èª°è¦å–®é»ã€èª°è¦åŠ è›‹ã€èª°è¦è¶…å€¼ã€‚å“‡è³½ï¼

## ğŸ› ï¸ å®‰è£èˆ‡è¨­å®š

æƒ³è®“å¶ç‚ºä½ æœå‹™ï¼Ÿå“¼å—¯ï¼Œç®—ä½ è­˜è²¨ã€‚ç…§è‘—ä¸‹é¢åšï¼Œä¸è¦å…©å…‰ã€‚

1. **æŠŠå¶çš„åŸå ¡è¤‡è£½å›å»ï¼š**

   ```bash
   git clone https://github.com/gnehs/gonokami-bot.git
   cd gonokami-bot
   ```

2. **å®‰è£éœ€è¦çš„æ±è¥¿ï¼š** å¶åªç”¨ pnpmï¼Œå…¶ä»–çš„å¶çœ‹ä¸ä¸Šçœ¼ï¼Œå¾ˆ SPPã€‚

   ```bash
   pnpm install
   ```

3. **è¨­å®šä½ çš„ç§˜å¯†é‘°åŒ™ï¼š** å»ºä¸€å€‹ `.env` æª”æ¡ˆæ”¾ä½ çš„ Telegram Bot Tokenã€‚

   ```env
   BOT_TOKEN=ä½ çš„æ©Ÿå™¨äººToken
   ```

4. **ï¼ˆé¸æ“‡ï¼‰ç·¨è­¯ TypeScriptï¼š** è‹¥è¦è·‘ç´” JS production ç‰ˆæœ¬ï¼Œå…ˆåŸ·è¡Œ

   ```bash
   pnpm run build   # æœƒæŠŠæª”æ¡ˆä¸Ÿåˆ° dist/
   ```

---

## ğŸš€ å•Ÿå‹•å¶ï¼ˆé–‹ç™¼æ¨¡å¼ï¼‰

å¥½äº†å—ï¼Ÿå¥½äº†å°±å•Ÿå‹•å¶ï¼Œè®“å¤§å®¶çœ‹çœ‹å¶çš„ je ne sais quoiã€‚

```bash
pnpm start
```

æˆ–æ˜¯ï¼Œå¦‚æœä½ æƒ³è®“å¶ä¸€ç›´åœ¨èƒŒæ™¯æ›¬å¤ªé™½ï¼ˆé–‹ç™¼æ¨¡å¼ï¼‰ï¼š

```bash
pnpm dev
```

## ğŸ³ ç”¨ Docker éƒ¨ç½²å¶

è¦ºå¾—ä¸Šé¢çš„æ–¹æ³•å¾ˆéœï¼Ÿå“¼å—¯ï¼Œå¶ä¹Ÿæ‡‚ Dockerï¼Œæ€•çš„æ˜¯ä»–ã€‚

1.  **æŠŠå¶æ‰“åŒ…èµ·ä¾†ï¼ˆmulti-stage build æœƒè‡ªå‹•ç·¨è­¯ TypeScriptï¼‰:**

    ```bash
    docker build -t gonokami-bot .
    ```

2.  **è®“å¶é–‹å§‹æ›¬å¤ªé™½ï¼š**
    è¨˜å¾—æŠŠä½ çš„ç§˜å¯†é‘°åŒ™ (`BOT_TOKEN`) å‚³çµ¦å¶ï¼Œä¸ç„¶å¶æœƒæ£®ä¸ƒä¸ƒã€‚

    ```bash
    docker run -d --name gonokami-bot -e BOT_TOKEN="ä½ çš„æ©Ÿå™¨äººToken" --restart always gonokami-bot
    ```

> âš ï¸ è‹¥ä½ ä½¿ç”¨ _node:22-alpine_ / _node:24-alpine_ ç­‰æ–°ç‰ˆæ˜ åƒï¼Œæˆ–åœ¨å•Ÿå‹•æ™‚çœ‹åˆ° `Network request for 'getMe' failed!`ã€`ETIMEDOUT` ç­‰è¨Šæ¯ï¼Œå¾ˆå¯èƒ½æ˜¯å£æ‰çš„ IPv6 é€ æˆé€£ç·šå¤±æ•—ã€‚å¯ä»¥åœ¨ `docker run` æ™‚åŠ ä¸Šä¸€è¡Œï¼Œç›´æ¥é—œé–‰ container å…§çš„ IPv6ï¼š

```bash
docker run -d --name gonokami-bot \
  -e BOT_TOKEN="ä½ çš„æ©Ÿå™¨äººToken" \
  --sysctl net.ipv6.conf.all.disable_ipv6=1 \
  --restart always gonokami-bot
```

---

_Zzz ï½æ€•çš„æ˜¯æˆ‘ï½ Zzz ï½_

## ğŸ­ å»ºæ§‹ production ç‰ˆ

```bash
pnpm run build
node dist/bot.js
```
